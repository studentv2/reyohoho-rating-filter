# reyohoho-rating-filter

**Что это:** компактный userscript, вставляет адаптивную панель фильтрации карточек по рейтингу в интерфейс ReYohoho (поддержка оригинала и зеркал). SPA-устойчив, не использует внешние библиотеки.

**Установка**

1. Установите Tampermonkey/Greasemonkey/Violentmonkey.
2. Создайте скрипт и вставьте код или установите из репозитория.

**Коротко по использованию**

* Откройте `/lists` или `/top`.
* Нажмите **Фильтр** рядом с другими контролами — панель развернётся.
* Выберите платформу (ReYohoho / КП / IMDb), режим сравнения и введите значение (например `8`, `8.1`, `7-8`).
* Нажмите **Применить** или включите **Авто** — результаты отфильтруются.
* **Сброс** — вернуть все карточки.

**Главные возможности**

* Поддержка разных разметок и зеркал (`.controls`, `.menu`, `#movieGrid`, `.grid`, `.movie-card` и т.п.).
* Режимы: точно, >=, <=, диапазон, приблизительно.
* Эффекты: скрыть или подсветить совпадения.
* Пакетная обработка карточек для снижения нагрузки (requestIdleCallback / rAF).
* Панель статистики: число карточек с рейтингом, средний рейтинг, распределение.
* Автоприменение и сохранение настроек в `localStorage`.
* Тонкая адаптация к теме сайта (accent, контраст, scrollbar, чекбоксы).
* Устойчив к SPA (перехват pushState/replaceState/popstate) и динамической подгрузке (MutationObserver).
